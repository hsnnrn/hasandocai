name: Generate Release Notes

on:
  release:
    types: [created, edited]

jobs:
  update-release-notes:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # TÃ¼m geÃ§miÅŸi Ã§ek
          
      - name: Generate Changelog
        id: changelog
        uses: mikepenz/release-changelog-builder-action@v4
        with:
          configuration: ".github/changelog-config.json"
          token: ${{ secrets.GITHUB_TOKEN }}
          
      - name: Update Release
        uses: softprops/action-gh-release@v2
        with:
          body: |
            ## ğŸ‰ DocDataApp ${{ github.ref_name }}
            
            ### ğŸ“¦ Ä°ndirme SeÃ§enekleri:
            
            **Windows:**
            - `DocDataApp-Setup-*.exe` - Kurulum dosyasÄ± (Ã¶nerilen)
            - `DocDataApp-Portable-*.exe` - Portable sÃ¼rÃ¼m
            
            **macOS:**
            - `DocDataApp-*.dmg` - Intel Mac & Apple Silicon (M1/M2/M3)
            - `DocDataApp-*.zip` - Portable sÃ¼rÃ¼m
            
            **Linux:**
            - `DocDataApp-*.AppImage` - TÃ¼m daÄŸÄ±tÄ±mlar iÃ§in
            - `DocDataApp-*.deb` - Debian/Ubuntu
            - `DocDataApp-*.rpm` - Fedora/RHEL/CentOS
            
            ---
            
            ### ğŸ“‹ DeÄŸiÅŸiklikler:
            
            ${{ steps.changelog.outputs.changelog }}
            
            ---
            
            ### ğŸš€ Kurulum TalimatlarÄ±:
            
            #### Windows:
            1. `.exe` dosyasÄ±nÄ± indirin
            2. Ã‡ift tÄ±klayÄ±n ve kurulum sihirbazÄ±nÄ± takip edin
            3. Kurulum tamamlandÄ±ktan sonra uygulamayÄ± baÅŸlatÄ±n
            
            #### macOS:
            1. `.dmg` dosyasÄ±nÄ± indirin
            2. Mount edin ve uygulamayÄ± Applications klasÃ¶rÃ¼ne sÃ¼rÃ¼kleyin
            3. Ä°lk aÃ§Ä±lÄ±ÅŸta saÄŸ tÄ±klayÄ±p "AÃ§" seÃ§eneÄŸini kullanÄ±n
            4. Sistem ayarlarÄ±ndan gerekli izinleri verin
            
            #### Linux:
            **AppImage:**
            ```bash
            chmod +x DocDataApp-*.AppImage
            ./DocDataApp-*.AppImage
            ```
            
            **Debian/Ubuntu:**
            ```bash
            sudo dpkg -i DocDataApp-*.deb
            sudo apt-get install -f  # BaÄŸÄ±mlÄ±lÄ±klarÄ± dÃ¼zelt
            ```
            
            **Fedora/RHEL:**
            ```bash
            sudo rpm -i DocDataApp-*.rpm
            ```
            
            ---
            
            ### ğŸ”§ Sistem Gereksinimleri:
            
            - **Windows:** Windows 10 veya Ã¼zeri (64-bit)
            - **macOS:** macOS 10.13 veya Ã¼zeri
            - **Linux:** Ubuntu 18.04+, Fedora 30+, veya eÅŸdeÄŸeri
            - **RAM:** Minimum 4GB (8GB Ã¶nerilen)
            - **Disk:** 500MB boÅŸ alan
            
            ### âš¡ Ã–zellikler:
            
            - ğŸ“„ 15+ dosya formatÄ± desteÄŸi (PDF, DOCX, XLSX, PPTX, vb.)
            - ğŸ¤– AI destekli dokÃ¼man analizi
            - ğŸ’¬ AkÄ±llÄ± sohbet arayÃ¼zÃ¼
            - ğŸ” Semantik arama
            - ğŸ“Š Toplu iÅŸlem desteÄŸi
            - â˜ï¸ Bulut senkronizasyonu (Supabase)
            - ğŸ¨ Modern ve kullanÄ±cÄ± dostu arayÃ¼z
            
            ### ğŸ› Bilinen Sorunlar:
            
            Bilinen sorunlar iÃ§in [Issues](https://github.com/${{ github.repository }}/issues) sayfasÄ±nÄ± kontrol edin.
            
            ### ğŸ’¬ Destek:
            
            SorularÄ±nÄ±z ve sorunlarÄ±nÄ±z iÃ§in:
            - [GitHub Discussions](https://github.com/${{ github.repository }}/discussions)
            - [GitHub Issues](https://github.com/${{ github.repository }}/issues)
            
            ### ğŸ™ KatkÄ±da Bulunun:
            
            Projeye katkÄ±da bulunmak isterseniz [CONTRIBUTING.md](https://github.com/${{ github.repository }}/blob/main/CONTRIBUTING.md) dosyasÄ±nÄ± inceleyin.
          token: ${{ secrets.GITHUB_TOKEN }}

